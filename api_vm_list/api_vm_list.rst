.. _api_vm_list:

----------------------
API: List of VMs
----------------------

Overview
++++++++

この演習では仮想マシンの一覧を取得してもらいます。

.. note::

  想定演習時間: **5 分**



Exercise: List the VMs
+++++++++++++++++++++++++++++++++++++++++++

#. Postmanの「+」ボタンをクリックして、新しいリクエストタブを作成してください。

#. HTTPメソッドのドロップダウンをクリックし POST を選択してください。

    - Nutanix v3 API では POST メソッドを使って一覧取得をサーバーサイドでフィルタリング、グルーピング、ソートを実施してできます。

#. 仮想マシンの一覧を得るために以下のURLを入力してください。

    - https://{{prism_central_ip}}:9440/api/nutanix/v3/vms/list

#. ベーシック認証の設定をしてください。

    - 最初の演習と同じ手順で設定してください。

#. メディアタイプを「JSON」にします。

    - Bodyタブをクリック。
    - ラジオボタンで raw を選択します。
    - Text のドロップダウンをクリックしJSONを選択します。

#. ボディを設定します。

    - Bodyタブをクリックしてください。
    - 以下の空のJSONをコピーもしくは入力してBodyに設定してください。

    .. code-block:: bash

      {}

    .. figure:: images/apimetajson.png

#. 送信ボタンを押して v3 API を呼び出してください。

    - レスポンスには VM の一覧が含まれています。先の演習で消したVMが現れないことを確認してください。

  .. figure:: images/vmlist.png
